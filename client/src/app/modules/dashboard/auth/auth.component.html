<!--<div class="container h-100 flex-container">-->
<!--  <form [formGroup]="form">-->

<!--    <div class="row">-->
<!--      <div class="col-12">-->
<!--        <app-input [formControl]="$any(form.controls['custName'])" [label]="'Username'"></app-input>-->
<!--      </div>-->

<!--      <ng-container *ngIf="registerMode">-->

<!--        <div class="col-12">-->
<!--          <app-input [formControl]="$any(form.controls['nic'])" [label]="'NIC'"></app-input>-->
<!--        </div>-->


<!--        <div class="col-12">-->
<!--          <app-input [formControl]="$any(form.controls['email'])" [label]="'Email'"></app-input>-->
<!--        </div>-->


<!--        <div class="col-12">-->
<!--          <app-input [formControl]="$any(form.controls['custAddress'])" [label]="'Address'"></app-input>-->
<!--        </div>-->

<!--        <div class="col-12">-->
<!--          <div class="row">-->
<!--            <div class="col-12">-->
<!--              <div class="form-group m-2">-->
<!--                <div class="row">-->
<!--                  <div class="col-12 col-sm-12 col-md-12">-->
<!--                    <label class="form-label">Mobile No</label>-->
<!--                  </div>-->

<!--                  <div class="col-12 col-sm-12 col-md-9">-->
<!--                    <input type="text" class="form-control w-100" placeholder="Country Code + Phone number" formControlName="mobile">-->
<!--                  </div>-->

<!--                  <div class="col-12 col-sm-12 col-md-3 text-center">-->
<!--                    <button (click)="sendOtp()" [disabled]="otpSent" type="button" class="btn btn-primary w-100" >OTP</button>-->
<!--                    <ng-container *ngIf="otpSent">-->
<!--                      <span #timerSpan></span>-->
<!--                    </ng-container>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->

<!--        <div class="col-12">-->
<!--          <app-input [formControl]="$any(form.controls['alternatePhone'])" [label]="'Alternate Mobile No'"></app-input>-->
<!--        </div>-->

<!--        <div class="col-12">-->
<!--          <app-input [formControl]="$any(form.controls['contactNo'])" [label]="'Contact No'"></app-input>-->
<!--        </div>-->
<!--      </ng-container>-->


<!--      <div class="col-12">-->
<!--        <app-input [formControl]="$any(form.controls['custPassword'])" [label]="'Password'" [type]="'password'"></app-input>-->
<!--      </div>-->

<!--      <div class="col-12 justify-content-center align-items-center d-flex flex-column mt-2">-->
<!--        <ng-container *ngIf="!registerMode">-->
<!--          <button [disabled]="isDisabled || form.invalid" class="btn btn-primary w-50" (click)="onSubmit()">Login</button>-->
<!--          <p>Don't have an Account?-->
<!--            <span (click)="toggleRegisterMode()" class="link-danger">Register</span>-->
<!--          </p>-->
<!--        </ng-container>-->

<!--        <ng-container *ngIf="registerMode">-->
<!--          <button [disabled]="isDisabled || form.invalid || otpSent" class="btn btn-primary w-50" (click)="onSubmit()">Register</button>-->
<!--          <p>Already have an Account? <span (click)="toggleRegisterMode()" class="link-danger">Login</span> </p>-->
<!--        </ng-container>-->
<!--      </div>-->
<!--    </div>-->
<!--  </form>-->
<!--</div>-->

<ng-container *ngIf="registerMode;else loginPage">
  <div class="login-section padding-top padding-bottom">
    <div class=" container">
      <div class="account-wrapper">
        <h3 class="title">Register Now</h3>
        <form class="account-form text-start" [formGroup]="form">
          <div class="form-group">
            <label>Customer Name:</label>
            <input type="text" placeholder="First Name" formControlName="custName" [class.is-invalid]="isInvalid('custName')">
            <div *ngIf="form.get('custName')?.invalid && (form.get('custName')?.dirty || form.get('custName')?.touched)" class="invalid-feedback">
							<div *ngIf="form.get('custName')?.errors?.['required']">custName is required.</div>
							<div *ngIf="form.get('custName')?.errors?.['minlength']">Minimum of 6 character are required.</div>
						</div>
          </div>

          <div class="form-group">
            <label>Goverment Issued ID:</label>
            <input type="text" placeholder="NIC" formControlName="nic" [class.is-invalid]="isInvalid('nic')">
            <div *ngIf="form.get('nic')?.invalid && (form.get('nic')?.dirty || form.get('nic')?.touched)" class="invalid-feedback">
							<div *ngIf="form.get('nic')?.errors?.['required']">nic is required.</div>
						</div>
          </div>

          <div class="form-group">
            <label>Date Of Birth:</label>
            <input formControlName="dob" type="date" [class.is-invalid]="isInvalid('dob')">
            <div *ngIf="form.get('dob')?.invalid && (form.get('dob')?.dirty || form.get('dob')?.touched)" class="invalid-feedback">
							<div *ngIf="form.get('dob')?.errors?.['required']">DOB is required.</div>
						</div>
          </div>

          <div class="form-group">
            <label>Address:</label>
            <input formControlName="custAddress" type="text" name="Address" [class.is-invalid]="isInvalid('custAddress')">
            <div *ngIf="form.get('custAddress')?.invalid && (form.get('custAddress')?.dirty || form.get('custAddress')?.touched)" class="invalid-feedback">
							<div *ngIf="form.get('custAddress')?.errors?.['required']">Address is required.</div>
						</div>
          </div>
          <div class="form-group">
            <label>Email:</label>
            <input type="email" formControlName="email" [class.is-invalid]="isInvalid('email')">
            <div *ngIf="form.get('email')?.invalid && (form.get('email')?.dirty || form.get('email')?.touched)" class="invalid-feedback">
							<div *ngIf="form.get('email')?.errors?.['required']">Email is required.</div>
							<div *ngIf="form.get('email')?.errors?.['email']">Email format is invalid.</div>
						</div>
          </div>
          <div class="form-group">
            <label>Mobile Number:</label>
            <div class="row">
              <div class="col-3">
                <input type="text" disabled [value]="numberCode">
              </div>
              <div class="col-9">
                <input type="text" formControlName="contactNo" [class.is-invalid]="isInvalid('contactNo')">
                <div *ngIf="form.get('contactNo')?.invalid && (form.get('contactNo')?.dirty || form.get('contactNo')?.touched)" class="invalid-feedback">
                  <div *ngIf="form.get('contactNo')?.errors?.['required']">contactNo is required.</div>
                  <div *ngIf="form.get('contactNo')?.errors?.['maxLength']">Max character limit exceeded.</div>
                  <div *ngIf="form.get('contactNo')?.errors?.['pattern']">Enter a valid number.</div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label>Alternate Phone Number:</label>
            <div class="row">
              <div class="col-3">
                <input type="text" disabled [value]="numberCode">
              </div>
              <div class="col-9">
                <input type="text" formControlName="alternatePhone" [class.is-invalid]="isInvalid('alternatePhone')">
                <div *ngIf="form.get('alternatePhone')?.invalid && (form.get('alternatePhone')?.dirty || form.get('alternatePhone')?.touched)" class="invalid-feedback">
                  <div *ngIf="form.get('alternatePhone')?.errors?.['required']">AlternatePhone is required.</div>
                  <div *ngIf="form.get('alternatePhone')?.errors?.['maxLength']">Max character limit exceeded.</div>
                  <div *ngIf="form.get('alternatePhone')?.errors?.['pattern']">Enter a valid number.</div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label>Password:</label>
            <input type="password" formControlName="custPassword" [class.is-invalid]="isInvalid('custPassword')">
            <div *ngIf="form.get('custPassword')?.invalid && (form.get('custPassword')?.dirty || form.get('custPassword')?.touched)" class="invalid-feedback">
              <div *ngIf="form.get('custPassword')?.errors?.['required']">Password is required.</div>
              <div *ngIf="form.get('custPassword')?.errors?.['maxLength']">Max character limit exceeded.</div>
              <div *ngIf="form.get('custPassword')?.errors?.['pattern']">Enter a valid number.</div>
            </div>
          </div>
          <div class="form-group">
            <button class="d-block default-button" type="button" (click)="onSubmit()"><span>Get Started Now</span></button>
          </div>
        </form>
        <div class="account-bottom">
          <span class="d-block cate pt-10">Are you a member? <a (click)="toggleRegisterMode()">Login</a></span>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loginPage>
  <div class="login-section padding-top padding-bottom">
    <div class=" container">
      <div class="account-wrapper">
        <h3 class="title">Login</h3>
        <form class="account-form text-start" [formGroup]="form">
          <div class="form-group-sm">
            <label>Phone No:</label>
            <div class="row">
              <div class="col-3">
                <input type="text" disabled value="+91">
              </div>
              
              <div class="col-9">
                <input formControlName="custName" type="text" name="username" [class.is-invalid]="isInvalid('custName')">
                <div *ngIf="form.get('custName')?.invalid && (form.get('custName')?.dirty || form.get('custName')?.touched)" class="invalid-feedback">
                  <div *ngIf="form.get('custName')?.errors?.['required']">Phone Number is required.</div>
                  <div *ngIf="form.get('custName')?.errors?.['maxLength']">Max character limit exceeded.</div>
                  <div *ngIf="form.get('custName')?.errors?.['pattern']">Enter a valid number.</div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group-sm">
            <div class="row">
              <div class="col-8">
                <label>CAPTCHA:</label>
                <input formControlName="captcha" [readonly]="true" type="text" name="captha">
              </div>
              <div class="col-4 d-flex justify-content-center align-items-end">
                <button class="btn btn-primary" type="button" (click)="generateCaptcha()">Generate Captcha</button>
              </div>
            </div>
          </div>
          <div class="form-group-sm">
            <label>Enter the Above Captcha:</label>
            <input formControlName="enteredCaptcha" type="text" name="enteredCaptcha" [class.is-invalid]="isInvalid('enteredCaptcha')">
            <div *ngIf="form.get('enteredCaptcha')?.invalid && (form.get('enteredCaptcha')?.dirty || form.get('enteredCaptcha')?.touched)" class="invalid-feedback">
              <div *ngIf="form.get('enteredCaptcha')?.errors?.['required']">Captcha is required.</div>
              <div *ngIf="form.get('enteredCaptcha')?.errors?.['maxLength']">Max character limit exceeded.</div>
              <div *ngIf="form.get('enteredCaptcha')?.errors?.['pattern']">Enter a valid number.</div>
            </div>
          </div>
          <div class="form-group-sm">
            <label>Password:</label>
            <input formControlName="custPassword" type="password" name="password" [class.is-invalid]="isInvalid('custPassword')">
            <div *ngIf="form.get('custPassword')?.invalid && (form.get('custPassword')?.dirty || form.get('custPassword')?.touched)" class="invalid-feedback">
              <div *ngIf="form.get('custPassword')?.errors?.['required']">Password is required.</div>
              <div *ngIf="form.get('custPassword')?.errors?.['maxLength']">Max character limit exceeded.</div>
              <div *ngIf="form.get('custPassword')?.errors?.['pattern']">Enter a valid number.</div>
            </div>
          </div>
          <div class="form-group">
            <button class="d-block default-button" [disabled]="isDisabled || form.invalid || otpSent" (click)="onSubmit()"><span>Submit Now</span></button>
          </div>
        </form>
        <div class="account-bottom">
          <span class="d-block cate pt-10">Donâ€™t Have any Account? <a (click)="toggleRegisterMode()"> Sign Up</a></span>
        </div>
      </div>
    </div>
  </div>
</ng-template>
